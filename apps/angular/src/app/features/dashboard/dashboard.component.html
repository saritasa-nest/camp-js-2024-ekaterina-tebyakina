<div class="dashboard">

	@if (anime$ | async; as animeList) {

		<table mat-table class="dashboard__table" [dataSource]="animeList" [trackBy]="trackByAnime">

			<ng-container matColumnDef={{columnsHeaders.Image}}>
				<th mat-header-cell *matHeaderCellDef class="dashboard__title"> {{columnsHeaders.Image}} </th>
				<td mat-cell *matCellDef="let element" class="dashboard__content cover">
					<div class="cover__wrapper">
						<img [src]="element.image" [alt]="element.titleJpn + ' cover' | empty: 'Anime cover'" class="cover__image">
					</div>

				</td>
			</ng-container>

			<ng-container matColumnDef={{columnsHeaders.EnglishTitle}}>
				<th mat-header-cell *matHeaderCellDef class="dashboard__title"> {{columnsHeaders.EnglishTitle}} </th>
				<td mat-cell *matCellDef="let element" class="dashboard__content"> {{element.englishTitle | empty}}</td>
			</ng-container>

			<ng-container matColumnDef={{columnsHeaders.JapaneseTitle}}>
				<th mat-header-cell *matHeaderCellDef class="dashboard__title"> {{columnsHeaders.JapaneseTitle}}</th>
				<td mat-cell *matCellDef="let element" class="dashboard__content"> {{element.japaneseTitle | empty}} </td>
			</ng-container>

			<ng-container matColumnDef={{columnsHeaders.AiredStart}}>
				<th mat-header-cell *matHeaderCellDef class="dashboard__title"> {{columnsHeaders.AiredStart}} </th>
				<td mat-cell *matCellDef="let element" class="dashboard__content"> {{element.aired.start | date: "mediumDate" | empty}} </td>
			</ng-container>

			<ng-container matColumnDef={{columnsHeaders.Type}}>
				<th mat-header-cell *matHeaderCellDef class="dashboard__title"> {{columnsHeaders.Type}} </th>
				<td mat-cell *matCellDef="let element" class="dashboard__content"> {{element.type | empty}} </td>
			</ng-container>

			<ng-container matColumnDef={{columnsHeaders.Status}}>
				<th mat-header-cell *matHeaderCellDef class="dashboard__title"> {{columnsHeaders.Status}} </th>
				<td mat-cell *matCellDef="let element" class="dashboard__content"> {{element.status | empty}} </td>
			</ng-container>

			<tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
			<tr mat-row *matRowDef="let row; columns: columnsToDisplay"></tr>

		</table>

	} @else {
		<camp-progress-bar></camp-progress-bar>
	}

</div>
