import{h as oe,i as he,r as n,k as M,l as Z,s as Q,B as de,m as xe,_ as x,n as z,u as ee,a as V,o as be,p as ye,j as a,c as D,b as te,q as W,t as $e,v as G,A as Ce,w as K,x as ue,y as pe,z as y,d as U,C as Te,e as je,f as L,D as Be,P as re,N as _e,E as Ne,F as Re,O as Se}from"./index-CC9ZyOSm.js";import{l as ne,L as ie,T as Ae,F as Ie,c as Le,S as Oe,r as ge,a as Me,b as Pe,I as ke,d as ze}from"./Delete-C402Anf3.js";function we(e,t=0,o=1){return he(e,t,o)}function Ee(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let o=e.match(t);return o&&o[0].length===1&&(o=o.map(s=>s+s)),o?`rgb${o.length===4?"a":""}(${o.map((s,r)=>r<3?parseInt(s,16):Math.round(parseInt(s,16)/255*1e3)/1e3).join(", ")})`:""}function me(e){if(e.type)return e;if(e.charAt(0)==="#")return me(Ee(e));const t=e.indexOf("("),o=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(o)===-1)throw new Error(oe(9,e));let s=e.substring(t+1,e.length-1),r;if(o==="color"){if(s=s.split(" "),r=s.shift(),s.length===4&&s[3].charAt(0)==="/"&&(s[3]=s[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r)===-1)throw new Error(oe(10,r))}else s=s.split(",");return s=s.map(i=>parseFloat(i)),{type:o,values:s,colorSpace:r}}function Fe(e){const{type:t,colorSpace:o}=e;let{values:s}=e;return t.indexOf("rgb")!==-1?s=s.map((r,i)=>i<3?parseInt(r,10):r):t.indexOf("hsl")!==-1&&(s[1]=`${s[1]}%`,s[2]=`${s[2]}%`),t.indexOf("color")!==-1?s=`${o} ${s.join(" ")}`:s=`${s.join(", ")}`,`${t}(${s})`}function w(e,t){return e=me(e),t=we(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Fe(e)}function Ve(e){return n.Children.toArray(e).filter(t=>n.isValidElement(t))}const le=M("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),ce=M("MuiListItemIcon",["root","alignItemsFlexStart"]);function De(e){return Z("MuiMenuItem",e)}const O=M("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),We=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Ge=(e,t)=>{const{ownerState:o}=e;return[t.root,o.dense&&t.dense,o.divider&&t.divider,!o.disableGutters&&t.gutters]},Ue=e=>{const{disabled:t,dense:o,divider:s,disableGutters:r,selected:i,classes:l}=e,p=te({root:["root",o&&"dense",t&&"disabled",!r&&"gutters",s&&"divider",i&&"selected"]},De,l);return x({},l,p)},He=Q(de,{shouldForwardProp:e=>xe(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Ge})(({theme:e,ownerState:t})=>x({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${O.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:z(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${O.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:z(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${O.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:z(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:z(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${O.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${O.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${le.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${le.inset}`]:{marginLeft:52},[`& .${ne.root}`]:{marginTop:0,marginBottom:0},[`& .${ne.inset}`]:{paddingLeft:36},[`& .${ce.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&x({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${ce.root} svg`]:{fontSize:"1.25rem"}}))),qe=n.forwardRef(function(t,o){const s=ee({props:t,name:"MuiMenuItem"}),{autoFocus:r=!1,component:i="li",dense:l=!1,divider:u=!1,disableGutters:p=!1,focusVisibleClassName:d,role:f="menuitem",tabIndex:R,className:j}=s,m=V(s,We),S=n.useContext(ie),C=n.useMemo(()=>({dense:l||S.dense||!1,disableGutters:p}),[S.dense,l,p]),h=n.useRef(null);be(()=>{r&&h.current&&h.current.focus()},[r]);const A=x({},s,{dense:C.dense,divider:u,disableGutters:p}),B=Ue(s),_=ye(h,o);let N;return s.disabled||(N=R!==void 0?R:-1),a.jsx(ie.Provider,{value:C,children:a.jsx(He,x({ref:_,role:f,tabIndex:N,component:i,focusVisibleClassName:D(B.focusVisible,d),className:D(B.root,j)},m,{ownerState:A,classes:B}))})});function Je(e){return Z("MuiToggleButton",e)}const I=M("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),fe=n.createContext({}),ve=n.createContext(void 0);function Ke(e,t){return t===void 0||e===void 0?!1:Array.isArray(t)?t.indexOf(e)>=0:e===t}const Xe=["value"],Ye=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],Ze=e=>{const{classes:t,fullWidth:o,selected:s,disabled:r,size:i,color:l}=e,u={root:["root",s&&"selected",r&&"disabled",o&&"fullWidth",`size${W(i)}`,l]};return te(u,Je,t)},Qe=Q(de,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[`size${W(o.size)}`]]}})(({theme:e,ownerState:t})=>{let o=t.color==="standard"?e.palette.text.primary:e.palette[t.color].main,s;return e.vars&&(o=t.color==="standard"?e.vars.palette.text.primary:e.vars.palette[t.color].main,s=t.color==="standard"?e.vars.palette.text.primaryChannel:e.vars.palette[t.color].mainChannel),x({},e.typography.button,{borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active},t.fullWidth&&{width:"100%"},{[`&.${I.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:w(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${I.selected}`]:{color:o,backgroundColor:e.vars?`rgba(${s} / ${e.vars.palette.action.selectedOpacity})`:w(o,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${s} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:w(o,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${s} / ${e.vars.palette.action.selectedOpacity})`:w(o,e.palette.action.selectedOpacity)}}}},t.size==="small"&&{padding:7,fontSize:e.typography.pxToRem(13)},t.size==="large"&&{padding:15,fontSize:e.typography.pxToRem(15)})}),E=n.forwardRef(function(t,o){const s=n.useContext(fe),{value:r}=s,i=V(s,Xe),l=n.useContext(ve),u=$e(x({},i,{selected:Ke(t.value,r)}),t),p=ee({props:u,name:"MuiToggleButton"}),{children:d,className:f,color:R="standard",disabled:j=!1,disableFocusRipple:m=!1,fullWidth:S=!1,onChange:C,onClick:h,selected:A,size:B="medium",value:_}=p,N=V(p,Ye),P=x({},p,{color:R,disabled:j,disableFocusRipple:m,fullWidth:S,size:B}),H=Ze(P),b=T=>{h&&(h(T,_),T.defaultPrevented)||C&&C(T,_)},v=l||"";return a.jsx(Qe,x({className:D(i.className,H.root,f,v),disabled:j,focusRipple:!m,ref:o,onClick:b,onChange:C,value:_,ownerState:P,"aria-pressed":A},N,{children:d}))});function et(e){return Z("MuiToggleButtonGroup",e)}const c=M("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),tt=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],st=e=>{const{classes:t,orientation:o,fullWidth:s,disabled:r}=e,i={root:["root",o==="vertical"&&"vertical",s&&"fullWidth"],grouped:["grouped",`grouped${W(o)}`,r&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return te(i,et,t)},at=Q("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${c.grouped}`]:t.grouped},{[`& .${c.grouped}`]:t[`grouped${W(o.orientation)}`]},{[`& .${c.firstButton}`]:t.firstButton},{[`& .${c.lastButton}`]:t.lastButton},{[`& .${c.middleButton}`]:t.middleButton},t.root,o.orientation==="vertical"&&t.vertical,o.fullWidth&&t.fullWidth]}})(({ownerState:e,theme:t})=>x({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},e.orientation==="vertical"&&{flexDirection:"column"},e.fullWidth&&{width:"100%"},{[`& .${c.grouped}`]:x({},e.orientation==="horizontal"?{[`&.${c.selected} + .${c.grouped}.${c.selected}`]:{borderLeft:0,marginLeft:0}}:{[`&.${c.selected} + .${c.grouped}.${c.selected}`]:{borderTop:0,marginTop:0}})},e.orientation==="horizontal"?{[`& .${c.firstButton},& .${c.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${c.lastButton},& .${c.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0}}:{[`& .${c.firstButton},& .${c.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${c.lastButton},& .${c.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0}},e.orientation==="horizontal"?{[`& .${c.lastButton}.${I.disabled},& .${c.middleButton}.${I.disabled}`]:{borderLeft:"1px solid transparent"}}:{[`& .${c.lastButton}.${I.disabled},& .${c.middleButton}.${I.disabled}`]:{borderTop:"1px solid transparent"}})),ot=n.forwardRef(function(t,o){const s=ee({props:t,name:"MuiToggleButtonGroup"}),{children:r,className:i,color:l="standard",disabled:u=!1,exclusive:p=!1,fullWidth:d=!1,onChange:f,orientation:R="horizontal",size:j="medium",value:m}=s,S=V(s,tt),C=x({},s,{disabled:u,fullWidth:d,orientation:R,size:j}),h=st(C),A=n.useCallback((b,v)=>{if(!f)return;const T=m&&m.indexOf(v);let k;m&&T>=0?(k=m.slice(),k.splice(T,1)):k=m?m.concat(v):[v],f(b,k)},[f,m]),B=n.useCallback((b,v)=>{f&&f(b,m===v?null:v)},[f,m]),_=n.useMemo(()=>({className:h.grouped,onChange:p?B:A,value:m,size:j,fullWidth:d,color:l,disabled:u}),[h.grouped,p,B,A,m,j,d,l,u]),N=Ve(r),P=N.length,H=b=>{const v=b===0,T=b===P-1;return v&&T?"":v?h.firstButton:T?h.lastButton:h.middleButton};return a.jsx(at,x({role:"group",className:D(h.root,i),ref:o,ownerState:C},S,{children:a.jsx(fe.Provider,{value:_,children:N.map((b,v)=>a.jsx(ve.Provider,{value:H(v),children:b},v))})}))});var $=(e=>(e.SearchTerm="searchTerm",e.SelectedTypes="selectedTypes",e.SortingSettings="sortingSettings",e))($||{});const rt=()=>{const[e,t]=G(),[o,s]=n.useState(e.get($.SearchTerm)??"");function r(i){s(i.target.value),e.set($.SearchTerm,i.target.value),t(e)}return a.jsx(Ae,{label:"Search",variant:"outlined",value:o,onChange:r})},nt=n.memo(rt),it="_field_tlwpo_1",lt={field:it},ct=Object.values(Ce),dt=()=>{const[e,t]=G(),[o,s]=n.useState(K.stringToArray(e.get($.SelectedTypes)??"")),r=n.useId(),i=u=>{const{value:p}=u.target;K.assertValueIsAnimeTypeArray(p),s(p),e.set($.SelectedTypes,p.toString()),t(e)},l=ct.map(u=>a.jsx(qe,{value:u,children:u},u));return a.jsxs(Ie,{className:lt.field,children:[a.jsx(Le,{id:r,children:"Type"}),a.jsx(Oe,{multiple:!0,labelId:r,id:"type-select",value:o,label:"Type",onChange:i,children:l})]})},ut=n.memo(dt);var se={},pt=ue;Object.defineProperty(se,"__esModule",{value:!0});var X=se.default=void 0,gt=pt(ge()),mt=a;X=se.default=(0,gt.default)((0,mt.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward");var ae={},ft=ue;Object.defineProperty(ae,"__esModule",{value:!0});var Y=ae.default=void 0,vt=ft(ge()),ht=a;Y=ae.default=(0,vt.default)((0,ht.jsx)("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward");const xt="_sortButton_gh2xl_1",F={sortButton:xt},bt=()=>{const[e,t]=G(),[o,s]=n.useState(pe.fromString(e.get($.SortingSettings)??"")),r=(i,l)=>{s(l||y.None),e.set($.SortingSettings,l||y.None),t(e)};return a.jsxs(ot,{size:"small",value:o,onChange:r,exclusive:!0,children:[a.jsxs(E,{value:y.AscendingEnglishTitle,className:F.sortButton,children:["English title",a.jsx(X,{})]},y.AscendingEnglishTitle),a.jsxs(E,{value:y.DescendingEnglishTitle,className:F.sortButton,children:["English title",a.jsx(Y,{})]},y.DescendingEnglishTitle),a.jsxs(E,{value:y.AscendingStatus,className:F.sortButton,children:["Status",a.jsx(X,{})]},y.AscendingStatus),a.jsxs(E,{value:y.DescendingStatus,className:F.sortButton,children:["Status",a.jsx(Y,{})]},y.DescendingStatus)]})},yt=n.memo(bt),$t="_form_1dkyu_1",Ct="_row_1dkyu_8",q={form:$t,row:Ct},Tt=()=>a.jsxs("form",{className:q.form,children:[a.jsxs("div",{className:q.row,children:[a.jsx(nt,{}),a.jsx(ut,{})]}),a.jsx("div",{className:q.row,children:a.jsx(yt,{})})]}),jt=n.memo(Tt),Bt=U(e=>e.anime.isLoading,e=>e),_t=U(e=>e.anime.isLoadingNextPage,e=>e),Nt=U(e=>e.anime.error,e=>e),Rt=Te.getSelectors(e=>e.anime).selectAll,St=U(e=>e.anime.nextPage,e=>e),At=({isLoading:e,nextPageUrl:t,fetchData:o})=>{const s=n.useRef();return n.useCallback(i=>{e||(s.current&&s.current.disconnect(),s.current=new IntersectionObserver(l=>{l[0].isIntersecting&&!e&&t&&o()}),i&&s.current.observe(i))},[e,t])},It="_list_sj6h8_1",Lt="_item_sj6h8_6",Ot="_cover_sj6h8_20",Mt="_property_sj6h8_27",Pt="_propertyTitle_sj6h8_33",kt="_propertyValue_sj6h8_39",zt="_message_sj6h8_54",g={list:It,item:Lt,cover:Ot,property:Mt,propertyTitle:Pt,propertyValue:kt,message:zt},wt=()=>{const e=je(),[t]=G(),o=L(Rt),s=L(Bt),r=L(_t),i=L(Nt),l=L(St);n.useEffect(()=>{!s&&!r&&e(Be({searchTerm:t.get($.SearchTerm)??"",selectedTypes:K.stringToArray(t.get($.SelectedTypes)??""),sortingSettings:pe.fromString(t.get($.SortingSettings)??"")}))},[t]);const u=At({isLoading:s&&r,nextPageUrl:l,fetchData(){l&&e(Re(l))}});if(s)return a.jsx(re,{});if(i)return a.jsx("div",{className:g.message,children:i});if(o.length===0)return a.jsx("div",{className:g.message,children:"No anime found"});const p=n.forwardRef((d,f)=>a.jsx("li",{ref:f,children:a.jsx(_e,{...d})}));return a.jsxs(Me,{className:g.list,children:[o.map((d,f)=>a.jsxs(Pe,{className:g.item,component:p,to:`/${Ne}/${d.id}`,ref:o.length===f+1?u:null,secondaryAction:a.jsx(ke,{edge:"end","aria-label":"delete",children:a.jsx(ze,{})}),children:[a.jsx("div",{children:a.jsx("img",{className:g.cover,src:d.image,alt:`${d.japaneseTitle||"Anime"} cover`})}),a.jsxs("div",{children:[a.jsxs("p",{className:g.property,children:[a.jsx("span",{className:g.propertyTitle,children:"Japanese title:"}),a.jsx("span",{className:g.propertyValue,title:d.japaneseTitle,children:d.japaneseTitle?d.japaneseTitle:"—"})]}),a.jsxs("p",{className:g.property,children:[a.jsx("span",{className:g.propertyTitle,children:"English title:"}),a.jsx("span",{className:g.propertyValue,title:d.englishTitle,children:d.englishTitle?d.englishTitle:"—"})]}),a.jsxs("p",{className:g.property,children:[a.jsx("span",{className:g.propertyTitle,children:"Type:"}),a.jsx("span",{className:g.propertyValue,children:d.type})]}),a.jsxs("p",{className:g.property,children:[a.jsx("span",{className:g.propertyTitle,children:"Status:"}),a.jsx("span",{className:g.propertyValue,children:d.status})]})]})]},d.id)),r?a.jsx(re,{}):null]})},Et=n.memo(wt),Ft="_main_1alpa_1",Vt="_section_1alpa_8",Dt="_details_1alpa_15",J={main:Ft,section:Vt,details:Dt},Wt=()=>a.jsxs("main",{className:J.main,children:[a.jsxs("div",{className:J.section,children:[a.jsx(jt,{}),a.jsx(Et,{})]}),a.jsx("div",{className:J.details,children:a.jsx(Se,{})})]}),Ht=n.memo(Wt);export{Ht as AnimePage};
