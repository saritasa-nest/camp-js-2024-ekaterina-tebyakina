import{h as ne,i as be,r as c,k as O,l as ee,s as te,B as pe,m as ye,_ as v,n as P,u as se,a as D,o as Ce,p as $e,j as a,c as G,b as ae,q as W,t as Te,v as V,A as _e,w as F,x as ge,y as me,z as b,d as U,C as je,e as Be,f as I,D as Re,P as ie,L as Ae,E as Ne,F as Se,O as Ie}from"./index-BHDeByVx.js";import{l as le,L as ce,T as Le,F as Oe,c as Me,S as Ee,r as fe,a as Pe,b as ze,I as ke,d as we}from"./Delete-BJEVjaIE.js";function Fe(e,t=0,o=1){return be(e,t,o)}function De(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let o=e.match(t);return o&&o[0].length===1&&(o=o.map(s=>s+s)),o?`rgb${o.length===4?"a":""}(${o.map((s,r)=>r<3?parseInt(s,16):Math.round(parseInt(s,16)/255*1e3)/1e3).join(", ")})`:""}function ve(e){if(e.type)return e;if(e.charAt(0)==="#")return ve(De(e));const t=e.indexOf("("),o=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(o)===-1)throw new Error(ne(9,e));let s=e.substring(t+1,e.length-1),r;if(o==="color"){if(s=s.split(" "),r=s.shift(),s.length===4&&s[3].charAt(0)==="/"&&(s[3]=s[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r)===-1)throw new Error(ne(10,r))}else s=s.split(",");return s=s.map(i=>parseFloat(i)),{type:o,values:s,colorSpace:r}}function Ge(e){const{type:t,colorSpace:o}=e;let{values:s}=e;return t.indexOf("rgb")!==-1?s=s.map((r,i)=>i<3?parseInt(r,10):r):t.indexOf("hsl")!==-1&&(s[1]=`${s[1]}%`,s[2]=`${s[2]}%`),t.indexOf("color")!==-1?s=`${o} ${s.join(" ")}`:s=`${s.join(", ")}`,`${t}(${s})`}function z(e,t){return e=ve(e),t=Fe(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Ge(e)}function We(e){return c.Children.toArray(e).filter(t=>c.isValidElement(t))}const de=O("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),ue=O("MuiListItemIcon",["root","alignItemsFlexStart"]);function Ve(e){return ee("MuiMenuItem",e)}const L=O("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Ue=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],qe=(e,t)=>{const{ownerState:o}=e;return[t.root,o.dense&&t.dense,o.divider&&t.divider,!o.disableGutters&&t.gutters]},He=e=>{const{disabled:t,dense:o,divider:s,disableGutters:r,selected:i,classes:n}=e,l=ae({root:["root",o&&"dense",t&&"disabled",!r&&"gutters",s&&"divider",i&&"selected"]},Ve,n);return v({},n,l)},Ye=te(pe,{shouldForwardProp:e=>ye(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:qe})(({theme:e,ownerState:t})=>v({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${L.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:P(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${L.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:P(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${L.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:P(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:P(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${L.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${L.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${de.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${de.inset}`]:{marginLeft:52},[`& .${le.root}`]:{marginTop:0,marginBottom:0},[`& .${le.inset}`]:{paddingLeft:36},[`& .${ue.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&v({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${ue.root} svg`]:{fontSize:"1.25rem"}}))),Qe=c.forwardRef(function(t,o){const s=se({props:t,name:"MuiMenuItem"}),{autoFocus:r=!1,component:i="li",dense:n=!1,divider:p=!1,disableGutters:l=!1,focusVisibleClassName:y,role:x="menuitem",tabIndex:R,className:T}=s,g=D(s,Ue),A=c.useContext(ce),C=c.useMemo(()=>({dense:n||A.dense||!1,disableGutters:l}),[A.dense,n,l]),f=c.useRef(null);Ce(()=>{r&&f.current&&f.current.focus()},[r]);const N=v({},s,{dense:C.dense,divider:p,disableGutters:l}),_=He(s),j=$e(f,o);let B;return s.disabled||(B=R!==void 0?R:-1),a.jsx(ce.Provider,{value:C,children:a.jsx(Ye,v({ref:j,role:x,tabIndex:B,component:i,focusVisibleClassName:G(_.focusVisible,y),className:G(_.root,T)},g,{ownerState:N,classes:_}))})});function Je(e){return ee("MuiToggleButton",e)}const S=O("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),xe=c.createContext({}),he=c.createContext(void 0);function Ke(e,t){return t===void 0||e===void 0?!1:Array.isArray(t)?t.indexOf(e)>=0:e===t}const Xe=["value"],Ze=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],et=e=>{const{classes:t,fullWidth:o,selected:s,disabled:r,size:i,color:n}=e,p={root:["root",s&&"selected",r&&"disabled",o&&"fullWidth",`size${W(i)}`,n]};return ae(p,Je,t)},tt=te(pe,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[`size${W(o.size)}`]]}})(({theme:e,ownerState:t})=>{let o=t.color==="standard"?e.palette.text.primary:e.palette[t.color].main,s;return e.vars&&(o=t.color==="standard"?e.vars.palette.text.primary:e.vars.palette[t.color].main,s=t.color==="standard"?e.vars.palette.text.primaryChannel:e.vars.palette[t.color].mainChannel),v({},e.typography.button,{borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active},t.fullWidth&&{width:"100%"},{[`&.${S.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:z(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${S.selected}`]:{color:o,backgroundColor:e.vars?`rgba(${s} / ${e.vars.palette.action.selectedOpacity})`:z(o,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${s} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:z(o,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${s} / ${e.vars.palette.action.selectedOpacity})`:z(o,e.palette.action.selectedOpacity)}}}},t.size==="small"&&{padding:7,fontSize:e.typography.pxToRem(13)},t.size==="large"&&{padding:15,fontSize:e.typography.pxToRem(15)})}),k=c.forwardRef(function(t,o){const s=c.useContext(xe),{value:r}=s,i=D(s,Xe),n=c.useContext(he),p=Te(v({},i,{selected:Ke(t.value,r)}),t),l=se({props:p,name:"MuiToggleButton"}),{children:y,className:x,color:R="standard",disabled:T=!1,disableFocusRipple:g=!1,fullWidth:A=!1,onChange:C,onClick:f,selected:N,size:_="medium",value:j}=l,B=D(l,Ze),M=v({},l,{color:R,disabled:T,disableFocusRipple:g,fullWidth:A,size:_}),q=et(M),h=$=>{f&&(f($,j),$.defaultPrevented)||C&&C($,j)},m=n||"";return a.jsx(tt,v({className:G(i.className,q.root,x,m),disabled:T,focusRipple:!g,ref:o,onClick:h,onChange:C,value:j,ownerState:M,"aria-pressed":N},B,{children:y}))});function st(e){return ee("MuiToggleButtonGroup",e)}const d=O("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),at=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],ot=e=>{const{classes:t,orientation:o,fullWidth:s,disabled:r}=e,i={root:["root",o==="vertical"&&"vertical",s&&"fullWidth"],grouped:["grouped",`grouped${W(o)}`,r&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return ae(i,st,t)},rt=te("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${d.grouped}`]:t.grouped},{[`& .${d.grouped}`]:t[`grouped${W(o.orientation)}`]},{[`& .${d.firstButton}`]:t.firstButton},{[`& .${d.lastButton}`]:t.lastButton},{[`& .${d.middleButton}`]:t.middleButton},t.root,o.orientation==="vertical"&&t.vertical,o.fullWidth&&t.fullWidth]}})(({ownerState:e,theme:t})=>v({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},e.orientation==="vertical"&&{flexDirection:"column"},e.fullWidth&&{width:"100%"},{[`& .${d.grouped}`]:v({},e.orientation==="horizontal"?{[`&.${d.selected} + .${d.grouped}.${d.selected}`]:{borderLeft:0,marginLeft:0}}:{[`&.${d.selected} + .${d.grouped}.${d.selected}`]:{borderTop:0,marginTop:0}})},e.orientation==="horizontal"?{[`& .${d.firstButton},& .${d.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${d.lastButton},& .${d.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0}}:{[`& .${d.firstButton},& .${d.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${d.lastButton},& .${d.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0}},e.orientation==="horizontal"?{[`& .${d.lastButton}.${S.disabled},& .${d.middleButton}.${S.disabled}`]:{borderLeft:"1px solid transparent"}}:{[`& .${d.lastButton}.${S.disabled},& .${d.middleButton}.${S.disabled}`]:{borderTop:"1px solid transparent"}})),nt=c.forwardRef(function(t,o){const s=se({props:t,name:"MuiToggleButtonGroup"}),{children:r,className:i,color:n="standard",disabled:p=!1,exclusive:l=!1,fullWidth:y=!1,onChange:x,orientation:R="horizontal",size:T="medium",value:g}=s,A=D(s,at),C=v({},s,{disabled:p,fullWidth:y,orientation:R,size:T}),f=ot(C),N=c.useCallback((h,m)=>{if(!x)return;const $=g&&g.indexOf(m);let E;g&&$>=0?(E=g.slice(),E.splice($,1)):E=g?g.concat(m):[m],x(h,E)},[x,g]),_=c.useCallback((h,m)=>{x&&x(h,g===m?null:m)},[x,g]),j=c.useMemo(()=>({className:f.grouped,onChange:l?_:N,value:g,size:T,fullWidth:y,color:n,disabled:p}),[f.grouped,l,_,N,g,T,y,n,p]),B=We(r),M=B.length,q=h=>{const m=h===0,$=h===M-1;return m&&$?"":m?f.firstButton:$?f.lastButton:f.middleButton};return a.jsx(rt,v({role:"group",className:G(f.root,i),ref:o,ownerState:C},A,{children:a.jsx(xe.Provider,{value:j,children:B.map((h,m)=>a.jsx(he.Provider,{value:q(m),children:h},m))})}))}),Q="searchTerm",J="selectedTypes",K="sortingSettings",it=()=>{const[e,t]=V(),[o,s]=c.useState(e.get(Q)??"");function r(i){s(i.target.value),e.set(Q,i.target.value),t(e)}return a.jsx(Le,{label:"Search",variant:"outlined",value:o,onChange:r})},lt=c.memo(it),ct="_field_tlwpo_1",dt={field:ct},ut=Object.values(_e),pt=()=>{const[e,t]=V(),[o,s]=c.useState(F.stringToArray(e.get(J)??"")),r=ut.map(n=>a.jsx(Qe,{value:n,children:n},n)),i=n=>{const{value:p}=n.target;F.assertValueIsAnimeTypeArray(p),s(p),e.set(J,F.arrayToString(p)),t(e)};return a.jsxs(Oe,{className:dt.field,children:[a.jsx(Me,{id:"type-select-label",children:"Type"}),a.jsx(Ee,{multiple:!0,labelId:"type-select-label",id:"type-select",value:o,label:"Type",onChange:i,children:r})]})},gt=c.memo(pt);var oe={},mt=ge;Object.defineProperty(oe,"__esModule",{value:!0});var X=oe.default=void 0,ft=mt(fe()),vt=a;X=oe.default=(0,ft.default)((0,vt.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward");var re={},xt=ge;Object.defineProperty(re,"__esModule",{value:!0});var Z=re.default=void 0,ht=xt(fe()),bt=a;Z=re.default=(0,ht.default)((0,bt.jsx)("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward");const w={"sort-button":"_sort-button_c4u2l_1"},yt=()=>{const[e,t]=V(),[o,s]=c.useState(me.fromString(e.get(K)??"")),r=(i,n)=>{s(n||b.None),e.set(K,n||b.None),t(e)};return a.jsxs(nt,{size:"small",value:o,onChange:r,exclusive:!0,children:[a.jsxs(k,{value:b.AscendingEnglishTitle,className:w["sort-button"],children:["English title",a.jsx(X,{})]},b.AscendingEnglishTitle),",",a.jsxs(k,{value:b.DescendingEnglishTitle,className:w["sort-button"],children:["English title",a.jsx(Z,{})]},b.DescendingEnglishTitle),a.jsxs(k,{value:b.AscendingStatus,className:w["sort-button"],children:["Status",a.jsx(X,{})]},b.AscendingStatus),",",a.jsxs(k,{value:b.DescendingStatus,className:w["sort-button"],children:["Status",a.jsx(Z,{})]},b.DescendingStatus)]})},Ct=c.memo(yt),$t="_form_1dkyu_1",Tt="_row_1dkyu_8",H={form:$t,row:Tt},_t=()=>a.jsxs("form",{className:H.form,children:[a.jsxs("div",{className:H.row,children:[a.jsx(lt,{}),a.jsx(gt,{})]}),a.jsx("div",{className:H.row,children:a.jsx(Ct,{})})]}),jt=c.memo(_t),Bt=U(e=>e.anime.isLoading,e=>e),Rt=U(e=>e.anime.isAdditionalLoading,e=>e),At=U(e=>e.anime.error,e=>e),Nt=je.getSelectors(e=>e.anime).selectAll,St=U(e=>e.anime.nextPage,e=>e),It=({isLoading:e,nextPageUrl:t,fetchData:o})=>{const s=c.useRef();return c.useCallback(i=>{e||(s.current&&s.current.disconnect(),s.current=new IntersectionObserver(n=>{n[0].isIntersecting&&!e&&t&&o()}),i&&s.current.observe(i))},[e,t])},Lt="_list_17xyq_1",Ot="_item_17xyq_8",Mt="_cover_17xyq_22",Et="_property_17xyq_29",Pt="_message_17xyq_56",u={list:Lt,item:Ot,cover:Mt,property:Et,"property-title":"_property-title_17xyq_35","property-value":"_property-value_17xyq_41",message:Pt},zt=()=>{const e=Be(),[t]=V(),o=I(Nt),s=I(Bt),r=I(Rt),i=I(At),n=I(St);c.useEffect(()=>{const l={searchTerm:t.get(Q)??"",selectedTypes:F.stringToArray(t.get(J)??""),sortingSettings:me.fromString(t.get(K)??"")};!s&&!r&&e(Re(l))},[t]);const p=It({isLoading:s&&r,nextPageUrl:n,fetchData(){n&&e(Se(n))}});return s?a.jsx(ie,{}):i?a.jsx("div",{className:u.message,children:i}):o.length===0?a.jsx("div",{className:u.message,children:"No anime found"}):a.jsxs(Pe,{className:u.list,children:[o.map((l,y)=>a.jsxs(ze,{className:u.item,secondaryAction:a.jsx(ke,{edge:"end","aria-label":"delete",children:a.jsx(we,{})}),component:Ae,to:`/${Ne}/${l.id}`,ref:o.length===y+1?p:null,children:[a.jsx("div",{children:a.jsx("img",{className:u.cover,src:l.image,alt:`${l.japaneseTitle||"Anime"} cover`})}),a.jsxs("div",{children:[a.jsxs("p",{className:u.property,children:[a.jsx("span",{className:u["property-title"],children:"Japanese title:"}),a.jsx("span",{className:u["property-value"],title:l.japaneseTitle,children:l.japaneseTitle?l.japaneseTitle:"—"})]}),a.jsxs("p",{className:u.property,children:[a.jsx("span",{className:u["property-title"],children:"English title:"}),a.jsx("span",{className:u["property-value"],title:l.englishTitle,children:l.englishTitle?l.englishTitle:"—"})]}),a.jsxs("p",{className:u.property,children:[a.jsx("span",{className:u["property-title"],children:"Type:"}),a.jsx("span",{className:u["property-value"],children:l.type})]}),a.jsxs("p",{className:u.property,children:[a.jsx("span",{className:u["property-title"],children:"Status:"}),a.jsx("span",{className:u["property-value"],children:l.status})]})]})]},l.id)),r?a.jsx(ie,{}):null]})},kt=c.memo(zt),wt="_main_1hsu6_1",Ft="_section_1hsu6_8",Dt="_details_1hsu6_13",Y={main:wt,section:Ft,details:Dt},Gt=()=>a.jsxs("main",{className:Y.main,children:[a.jsxs("div",{className:Y.section,children:[a.jsx(jt,{}),a.jsx(kt,{})]}),a.jsx("div",{className:Y.details,children:a.jsx(Ie,{})})]}),Ut=c.memo(Gt);export{Ut as AnimePage};
