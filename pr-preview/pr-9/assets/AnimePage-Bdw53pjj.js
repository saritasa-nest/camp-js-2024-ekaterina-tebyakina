import{g as ae,h as fe,r as i,i as S,k as X,s as Y,B as le,l as ve,_ as v,m as M,u as Z,a as W,n as xe,o as he,j as a,c as D,b as ee,p as G,q as be,t as V,A as F,v as ye,w as ce,x as de,y,d as $e,e as z,z as Ce,C as Te,P as je,L as Be,D as _e,O as Ne}from"./index-CqDPG0rK.js";import{l as oe,L as re,T as Re,F as Ae,e as Ie,S as Le,r as ue,c as q,a as Se,b as Oe,I as Pe,d as Me}from"./Delete-BBDaEuy6.js";function ze(e,t=0,o=1){return fe(e,t,o)}function ke(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let o=e.match(t);return o&&o[0].length===1&&(o=o.map(s=>s+s)),o?`rgb${o.length===4?"a":""}(${o.map((s,n)=>n<3?parseInt(s,16):Math.round(parseInt(s,16)/255*1e3)/1e3).join(", ")})`:""}function pe(e){if(e.type)return e;if(e.charAt(0)==="#")return pe(ke(e));const t=e.indexOf("("),o=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(o)===-1)throw new Error(ae(9,e));let s=e.substring(t+1,e.length-1),n;if(o==="color"){if(s=s.split(" "),n=s.shift(),s.length===4&&s[3].charAt(0)==="/"&&(s[3]=s[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(n)===-1)throw new Error(ae(10,n))}else s=s.split(",");return s=s.map(l=>parseFloat(l)),{type:o,values:s,colorSpace:n}}function we(e){const{type:t,colorSpace:o}=e;let{values:s}=e;return t.indexOf("rgb")!==-1?s=s.map((n,l)=>l<3?parseInt(n,10):n):t.indexOf("hsl")!==-1&&(s[1]=`${s[1]}%`,s[2]=`${s[2]}%`),t.indexOf("color")!==-1?s=`${o} ${s.join(" ")}`:s=`${s.join(", ")}`,`${t}(${s})`}function k(e,t){return e=pe(e),t=ze(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,we(e)}function Ee(e){return i.Children.toArray(e).filter(t=>i.isValidElement(t))}const ne=S("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),ie=S("MuiListItemIcon",["root","alignItemsFlexStart"]);function Fe(e){return X("MuiMenuItem",e)}const L=S("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),We=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],De=(e,t)=>{const{ownerState:o}=e;return[t.root,o.dense&&t.dense,o.divider&&t.divider,!o.disableGutters&&t.gutters]},Ge=e=>{const{disabled:t,dense:o,divider:s,disableGutters:n,selected:l,classes:d}=e,r=ee({root:["root",o&&"dense",t&&"disabled",!n&&"gutters",s&&"divider",l&&"selected"]},Fe,d);return v({},d,r)},Ve=Y(le,{shouldForwardProp:e=>ve(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:De})(({theme:e,ownerState:t})=>v({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${L.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:M(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${L.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:M(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${L.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:M(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:M(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${L.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${L.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${ne.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${ne.inset}`]:{marginLeft:52},[`& .${oe.root}`]:{marginTop:0,marginBottom:0},[`& .${oe.inset}`]:{paddingLeft:36},[`& .${ie.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&v({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${ie.root} svg`]:{fontSize:"1.25rem"}}))),qe=i.forwardRef(function(t,o){const s=Z({props:t,name:"MuiMenuItem"}),{autoFocus:n=!1,component:l="li",dense:d=!1,divider:u=!1,disableGutters:r=!1,focusVisibleClassName:x,role:h="menuitem",tabIndex:N,className:T}=s,g=W(s,We),R=i.useContext(re),$=i.useMemo(()=>({dense:d||R.dense||!1,disableGutters:r}),[R.dense,d,r]),f=i.useRef(null);xe(()=>{n&&f.current&&f.current.focus()},[n]);const A=v({},s,{dense:$.dense,divider:u,disableGutters:r}),j=Ge(s),B=he(f,o);let _;return s.disabled||(_=N!==void 0?N:-1),a.jsx(re.Provider,{value:$,children:a.jsx(Ve,v({ref:B,role:h,tabIndex:_,component:l,focusVisibleClassName:D(j.focusVisible,x),className:D(j.root,T)},g,{ownerState:A,classes:j}))})});function Ue(e){return X("MuiToggleButton",e)}const I=S("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),ge=i.createContext({}),me=i.createContext(void 0);function He(e,t){return t===void 0||e===void 0?!1:Array.isArray(t)?t.indexOf(e)>=0:e===t}const Je=["value"],Ke=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],Qe=e=>{const{classes:t,fullWidth:o,selected:s,disabled:n,size:l,color:d}=e,u={root:["root",s&&"selected",n&&"disabled",o&&"fullWidth",`size${G(l)}`,d]};return ee(u,Ue,t)},Xe=Y(le,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[`size${G(o.size)}`]]}})(({theme:e,ownerState:t})=>{let o=t.color==="standard"?e.palette.text.primary:e.palette[t.color].main,s;return e.vars&&(o=t.color==="standard"?e.vars.palette.text.primary:e.vars.palette[t.color].main,s=t.color==="standard"?e.vars.palette.text.primaryChannel:e.vars.palette[t.color].mainChannel),v({},e.typography.button,{borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active},t.fullWidth&&{width:"100%"},{[`&.${I.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:k(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${I.selected}`]:{color:o,backgroundColor:e.vars?`rgba(${s} / ${e.vars.palette.action.selectedOpacity})`:k(o,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${s} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:k(o,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${s} / ${e.vars.palette.action.selectedOpacity})`:k(o,e.palette.action.selectedOpacity)}}}},t.size==="small"&&{padding:7,fontSize:e.typography.pxToRem(13)},t.size==="large"&&{padding:15,fontSize:e.typography.pxToRem(15)})}),w=i.forwardRef(function(t,o){const s=i.useContext(ge),{value:n}=s,l=W(s,Je),d=i.useContext(me),u=be(v({},l,{selected:He(t.value,n)}),t),r=Z({props:u,name:"MuiToggleButton"}),{children:x,className:h,color:N="standard",disabled:T=!1,disableFocusRipple:g=!1,fullWidth:R=!1,onChange:$,onClick:f,selected:A,size:j="medium",value:B}=r,_=W(r,Ke),O=v({},r,{color:N,disabled:T,disableFocusRipple:g,fullWidth:R,size:j}),U=Qe(O),b=C=>{f&&(f(C,B),C.defaultPrevented)||$&&$(C,B)},m=d||"";return a.jsx(Xe,v({className:D(l.className,U.root,h,m),disabled:T,focusRipple:!g,ref:o,onClick:b,onChange:$,value:B,ownerState:O,"aria-pressed":A},_,{children:x}))});function Ye(e){return X("MuiToggleButtonGroup",e)}const c=S("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),Ze=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],et=e=>{const{classes:t,orientation:o,fullWidth:s,disabled:n}=e,l={root:["root",o==="vertical"&&"vertical",s&&"fullWidth"],grouped:["grouped",`grouped${G(o)}`,n&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return ee(l,Ye,t)},tt=Y("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${c.grouped}`]:t.grouped},{[`& .${c.grouped}`]:t[`grouped${G(o.orientation)}`]},{[`& .${c.firstButton}`]:t.firstButton},{[`& .${c.lastButton}`]:t.lastButton},{[`& .${c.middleButton}`]:t.middleButton},t.root,o.orientation==="vertical"&&t.vertical,o.fullWidth&&t.fullWidth]}})(({ownerState:e,theme:t})=>v({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},e.orientation==="vertical"&&{flexDirection:"column"},e.fullWidth&&{width:"100%"},{[`& .${c.grouped}`]:v({},e.orientation==="horizontal"?{[`&.${c.selected} + .${c.grouped}.${c.selected}`]:{borderLeft:0,marginLeft:0}}:{[`&.${c.selected} + .${c.grouped}.${c.selected}`]:{borderTop:0,marginTop:0}})},e.orientation==="horizontal"?{[`& .${c.firstButton},& .${c.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${c.lastButton},& .${c.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0}}:{[`& .${c.firstButton},& .${c.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${c.lastButton},& .${c.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0}},e.orientation==="horizontal"?{[`& .${c.lastButton}.${I.disabled},& .${c.middleButton}.${I.disabled}`]:{borderLeft:"1px solid transparent"}}:{[`& .${c.lastButton}.${I.disabled},& .${c.middleButton}.${I.disabled}`]:{borderTop:"1px solid transparent"}})),st=i.forwardRef(function(t,o){const s=Z({props:t,name:"MuiToggleButtonGroup"}),{children:n,className:l,color:d="standard",disabled:u=!1,exclusive:r=!1,fullWidth:x=!1,onChange:h,orientation:N="horizontal",size:T="medium",value:g}=s,R=W(s,Ze),$=v({},s,{disabled:u,fullWidth:x,orientation:N,size:T}),f=et($),A=i.useCallback((b,m)=>{if(!h)return;const C=g&&g.indexOf(m);let P;g&&C>=0?(P=g.slice(),P.splice(C,1)):P=g?g.concat(m):[m],h(b,P)},[h,g]),j=i.useCallback((b,m)=>{h&&h(b,g===m?null:m)},[h,g]),B=i.useMemo(()=>({className:f.grouped,onChange:r?j:A,value:g,size:T,fullWidth:x,color:d,disabled:u}),[f.grouped,r,j,A,g,T,x,d,u]),_=Ee(n),O=_.length,U=b=>{const m=b===0,C=b===O-1;return m&&C?"":m?f.firstButton:C?f.lastButton:f.middleButton};return a.jsx(tt,v({role:"group",className:D(f.root,l),ref:o,ownerState:$},R,{children:a.jsx(ge.Provider,{value:B,children:_.map((b,m)=>a.jsx(me.Provider,{value:U(m),children:b},m))})}))}),at=()=>{const[e,t]=V(),[o,s]=i.useState(e.get("searchTerm")??"");function n(l){s(l.target.value),e.set("searchTerm",l.target.value),t(e)}return a.jsx(Re,{label:"Search",variant:"outlined",value:o,onChange:n})},ot=i.memo(at),rt="_field_tlwpo_1",nt={field:rt},it=()=>{const[e,t]=V(),[o,s]=i.useState(F.stringToArray(e.get("selectedTypes")??"")),l=Object.values(ye).map(u=>a.jsx(qe,{value:u,children:u},u)),d=u=>{const{value:r}=u.target;if(typeof r=="string"){F.assertIsAnimeType(r),s([r]),e.set("selectedTypes",r);return}s(r),e.set("selectedTypes",F.arrayToString(r)),t(e)};return a.jsxs(Ae,{className:nt.field,children:[a.jsx(Ie,{id:"type-select-label",children:"Type"}),a.jsx(Le,{multiple:!0,labelId:"type-select-label",id:"type-select",value:o,label:"Type",onChange:d,children:l})]})},lt=i.memo(it);var te={},ct=ce;Object.defineProperty(te,"__esModule",{value:!0});var K=te.default=void 0,dt=ct(ue()),ut=a;K=te.default=(0,dt.default)((0,ut.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward");var se={},pt=ce;Object.defineProperty(se,"__esModule",{value:!0});var Q=se.default=void 0,gt=pt(ue()),mt=a;Q=se.default=(0,gt.default)((0,mt.jsx)("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward");const E={"sort-button":"_sort-button_c4u2l_1"},ft=()=>{const[e,t]=V(),[o,s]=i.useState(de.fromString(e.get("sortingSettings")??"")),n=(l,d)=>{s(d||y.None),e.set("sortingSettings",d||y.None),t(e)};return a.jsxs(st,{size:"small",value:o,onChange:n,exclusive:!0,children:[a.jsxs(w,{value:y.AscendingEnglishTitle,className:E["sort-button"],children:["English title",a.jsx(K,{})]},y.AscendingEnglishTitle),",",a.jsxs(w,{value:y.DescendingEnglishTitle,className:E["sort-button"],children:["English title",a.jsx(Q,{})]},y.DescendingEnglishTitle),a.jsxs(w,{value:y.AscendingStatus,className:E["sort-button"],children:["Status",a.jsx(K,{})]},y.AscendingStatus),",",a.jsxs(w,{value:y.DescendingStatus,className:E["sort-button"],children:["Status",a.jsx(Q,{})]},y.DescendingStatus)]})},vt=i.memo(ft),xt="_form_1dkyu_1",ht="_row_1dkyu_8",H={form:xt,row:ht},bt=()=>a.jsxs("form",{className:H.form,children:[a.jsxs("div",{className:H.row,children:[a.jsx(ot,{}),a.jsx(lt,{})]}),a.jsx("div",{className:H.row,children:a.jsx(vt,{})})]}),yt=i.memo(bt),$t=q(e=>e.anime.isLoading,e=>e),Ct=q(e=>e.anime.error,e=>e),Tt=q(e=>e.anime.animeList.allIds.map(t=>e.anime.animeList.byId[t]),e=>e),jt=q(e=>e.anime.nextPage,e=>e),Bt="_list_17xyq_1",_t="_item_17xyq_8",Nt="_cover_17xyq_22",Rt="_property_17xyq_29",At="_message_17xyq_56",p={list:Bt,item:_t,cover:Nt,property:Rt,"property-title":"_property-title_17xyq_35","property-value":"_property-value_17xyq_41",message:At},It=()=>{const e=i.useRef(),t=$e(),[o]=V(),s=z(Tt),n=z($t),l=z(Ct),d=z(jt);i.useEffect(()=>{const r={searchTerm:o.get("searchTerm")??"",selectedTypes:F.stringToArray(o.get("selectedTypes")??""),sortingSettings:de.fromString(o.get("sortingSettings")??"")};n||t(Ce(r))},[o]);const u=i.useCallback(r=>{n||(e.current&&e.current.disconnect(),e.current=new IntersectionObserver(x=>{x[0].isIntersecting&&!n&&d&&t(Te(d))}),r&&e.current.observe(r))},[n]);return n?a.jsx(je,{}):l?a.jsx("div",{className:p.message,children:l}):s.length===0?a.jsx("div",{className:p.message,children:"No anime found"}):a.jsx(Se,{className:p.list,children:s.map((r,x)=>a.jsxs(Oe,{className:p.item,secondaryAction:a.jsx(Pe,{edge:"end","aria-label":"delete",children:a.jsx(Me,{})}),component:Be,to:`/${_e}/${r.id}`,ref:s.length===x+1?u:null,children:[a.jsx("div",{children:a.jsx("img",{className:p.cover,src:r.image,alt:`${r.japaneseTitle||"Anime"} cover`})}),a.jsxs("div",{children:[a.jsxs("p",{className:p.property,children:[a.jsx("span",{className:p["property-title"],children:"Japanese title:"}),a.jsx("span",{className:p["property-value"],title:r.japaneseTitle,children:r.japaneseTitle?r.japaneseTitle:"—"})]}),a.jsxs("p",{className:p.property,children:[a.jsx("span",{className:p["property-title"],children:"English title:"}),a.jsx("span",{className:p["property-value"],title:r.englishTitle,children:r.englishTitle?r.englishTitle:"—"})]}),a.jsxs("p",{className:p.property,children:[a.jsx("span",{className:p["property-title"],children:"Type:"}),a.jsx("span",{className:p["property-value"],children:r.type})]}),a.jsxs("p",{className:p.property,children:[a.jsx("span",{className:p["property-title"],children:"Status:"}),a.jsx("span",{className:p["property-value"],children:r.status})]})]})]},r.id))})},Lt=i.memo(It),St="_main_1hsu6_1",Ot="_section_1hsu6_8",Pt="_details_1hsu6_13",J={main:St,section:Ot,details:Pt},Mt=()=>a.jsxs("main",{className:J.main,children:[a.jsxs("div",{className:J.section,children:[a.jsx(yt,{}),a.jsx(Lt,{})]}),a.jsx("div",{className:J.details,children:a.jsx(Ne,{})})]}),wt=i.memo(Mt);export{wt as AnimePage};
